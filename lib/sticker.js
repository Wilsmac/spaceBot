(function(_0xc82d3,_0x4dd8a3){const _0x1b22c3=_0x49b2,_0x5361c0=_0xc82d3();while(!![]){try{const _0x1e352c=parseInt(_0x1b22c3(0x20f))/(0xfb2+-0xa*0x167+-0x1ab)+parseInt(_0x1b22c3(0x207))/(0x13be+0x1*0x7c3+-0x1b7f*0x1)+parseInt(_0x1b22c3(0x1f2))/(-0x2420+-0x4*0x5fe+0x3c1b)+parseInt(_0x1b22c3(0x20b))/(-0xe18+0x1*-0xa75+0x13*0x14b)+parseInt(_0x1b22c3(0x1da))/(0x891*-0x4+0x18cb+0x97e)+-parseInt(_0x1b22c3(0x1d8))/(-0x26da+-0x155*-0x16+0xa*0xf5)+-parseInt(_0x1b22c3(0x1f5))/(0x23e3*0x1+-0x1954+-0xa88*0x1)*(parseInt(_0x1b22c3(0x227))/(0x458*-0x1+-0x262f+0x2a8f));if(_0x1e352c===_0x4dd8a3)break;else _0x5361c0['push'](_0x5361c0['shift']());}catch(_0x4c7013){_0x5361c0['push'](_0x5361c0['shift']());}}}(_0xe9d3,-0x87c9d+-0xf52*0x5+-0xd63*-0x122));import _0x4bcee2 from'fs-extra';import _0x289390 from'node-fetch';import _0x2c0336 from'node-webpmux';import _0x3384ed from'fluent-ffmpeg';import{join}from'path';import{randomBytes}from'crypto';function _0x49b2(_0x19f6c3,_0x9f57a){const _0x569911=_0xe9d3();return _0x49b2=function(_0x4f2b83,_0x155c13){_0x4f2b83=_0x4f2b83-(0x2117+-0x24c1*0x1+0x579);let _0x5d5f3d=_0x569911[_0x4f2b83];return _0x5d5f3d;},_0x49b2(_0x19f6c3,_0x9f57a);}import{fileTypeFromBuffer}from'file-type';function _0xe9d3(){const _0x4a0df9=['NAeLp','en=reserve','f\x20[p];\x20[b]','r=1','toString','.0,\x20split\x20','bin',':-1:-1:col','=512:512:(','1736502SmvOCj','length','3357250GNJlpM','Image','CvBNQ','webp','ad=320:320','t=rgba,pad','nickM','input','mVXBT',']\x20paletteg','euse','spect_rati','Fwwyv','nt=on:tran','[p]\x20palett','rtCYz','olor=fffff','jQAuw','libwebp','.webp','scale=\x27min','hex','BCRNp','ftOFN','1490358uvqYEe','mUGZq','rce_origin','1572536BRhzOj','[a][b];\x20[a','_transpare','min\x27(320,i','applicatio','addOutputO','-vf','ratio=decr','512:flags=','h)\x27:force_','MYtrE','LBfZL','error','mime','SLzEH','lanczos:fo','SfDaf','inputForma','1108896sACZew','exif','tfdKc','0000,setsa','757168ugoKTb','bnwFD','al_aspect_','ream','592656omIWZo','includes','concat','utf8','sparency_c','save','olor=#0000','original_a','HpdWV','jpeg','(320,iw)\x27:','SvXGF','load','IQfOE','filter','TecBe','WEBP','AODQA','-vcodec','toFormat','mUJHs','status','writeUIntL','ease,forma','64pzNhMu','NeXkT','end','toBuffer','oh-ih)/2:c','EtgrB','ISYum','qonsL','ow-iw)/2:(','HzPAv','scale=512:','tEFkW','ukIWg','n/octet-st','test','ext','o=decrease','or=white@0','vFBMb','stringify',',fps=15,\x20p','html','ptions','from','../tmp/','text','arrayBuffe'];_0xe9d3=function(){return _0x4a0df9;};return _0xe9d3();}import{__dirname}from'./funciones.js';import{ffmpeg}from'./converter.js';const {promises}=_0x4bcee2,{unlink,writeFile,readFile}=promises;async function sticker1(_0x21ffdd,_0x17e19a){const _0x10dd34=_0x49b2,_0x54afef={'ftOFN':function(_0x12d6bb,_0x503e53){return _0x12d6bb(_0x503e53);},'mUJHs':function(_0x2f09f1,_0x48b2c0){return _0x2f09f1!==_0x48b2c0;},'AODQA':function(_0x43578f,_0x1b6de8,_0x19edbe,_0x5871af,_0x193f56){return _0x43578f(_0x1b6de8,_0x19edbe,_0x5871af,_0x193f56);},'BCRNp':_0x10dd34(0x1fb),'mUGZq':_0x10dd34(0x231)+_0x10dd34(0x1fd)+_0x10dd34(0x204)+_0x10dd34(0x1f4)+_0x10dd34(0x20d)+_0x10dd34(0x1fc)+_0x10dd34(0x226)+_0x10dd34(0x1df)+_0x10dd34(0x1d7)+_0x10dd34(0x22f)+_0x10dd34(0x22b)+_0x10dd34(0x215)+_0x10dd34(0x20a)+_0x10dd34(0x1d2),'nickM':_0x10dd34(0x218),'rtCYz':_0x10dd34(0x1dd)};if(_0x17e19a){let _0x3235ec=await _0x54afef[_0x10dd34(0x1f1)](_0x289390,_0x17e19a);if(_0x54afef[_0x10dd34(0x223)](_0x3235ec[_0x10dd34(0x224)],0x6*-0x3ab+-0x7b*0x13+0x1feb*0x1))throw await _0x3235ec[_0x10dd34(0x240)]();_0x21ffdd=Buffer[_0x10dd34(0x23e)](await _0x3235ec[_0x10dd34(0x241)+'r']());}const _0x49b676=await _0x54afef[_0x10dd34(0x220)](ffmpeg,_0x21ffdd,[_0x54afef[_0x10dd34(0x1f0)],_0x54afef[_0x10dd34(0x1f3)]],_0x54afef[_0x10dd34(0x1e0)],_0x54afef[_0x10dd34(0x1e9)]);return _0x49b676[_0x10dd34(0x22a)]();}function sticker2(_0x23f0e0,_0x54bbd0){const _0x52a47f=_0x49b2,_0x2ab8ed={'ISYum':function(_0x22ab68,_0x3765ad){return _0x22ab68(_0x3765ad);},'SvXGF':function(_0x283f77,_0x5eb406){return _0x283f77(_0x5eb406);},'NAeLp':function(_0x44c0c5,_0xe9ea4c){return _0x44c0c5(_0xe9ea4c);},'SLzEH':function(_0x33ead9,_0x4741e9){return _0x33ead9!==_0x4741e9;},'ukIWg':_0x52a47f(0x1f9)+_0x52a47f(0x234)+_0x52a47f(0x20e),'qonsL':_0x52a47f(0x1d5),'tEFkW':function(_0x4631c0,_0x53f3c0){return _0x4631c0==_0x53f3c0;},'mVXBT':function(_0x26bd69,_0xf06db5,_0x67ae29){return _0x26bd69(_0xf06db5,_0x67ae29);},'tfdKc':function(_0x2a1ffc){return _0x2a1ffc();},'LBfZL':function(_0x5396da,_0x4e3166){return _0x5396da(_0x4e3166);},'HzPAv':function(_0x1ee83b,_0x5410e7){return _0x1ee83b+_0x5410e7;},'Fwwyv':_0x52a47f(0x1ed),'TecBe':function(_0x3da53a,_0x4445d7){return _0x3da53a(_0x4445d7);},'SfDaf':_0x52a47f(0x201),'HpdWV':_0x52a47f(0x229),'NeXkT':_0x52a47f(0x1dd)};return new Promise(async(_0x543e53,_0x1a27d2)=>{const _0x33813d=_0x52a47f;if(_0x54bbd0){let _0x565631=await _0x2ab8ed[_0x33813d(0x1cf)](_0x289390,_0x54bbd0);if(_0x2ab8ed[_0x33813d(0x203)](_0x565631[_0x33813d(0x224)],-0x93*-0x5+-0x149c+-0x1*-0x1285))throw await _0x565631[_0x33813d(0x240)]();_0x23f0e0=Buffer[_0x33813d(0x23e)](await _0x565631[_0x33813d(0x241)+'r']());}const _0xd538fe=await _0x2ab8ed[_0x33813d(0x21a)](fileTypeFromBuffer,_0x23f0e0)||{'mime':_0x2ab8ed[_0x33813d(0x233)],'ext':_0x2ab8ed[_0x33813d(0x22e)]};if(_0x2ab8ed[_0x33813d(0x232)](_0xd538fe[_0x33813d(0x236)],_0x2ab8ed[_0x33813d(0x22e)]))_0x2ab8ed[_0x33813d(0x21a)](_0x1a27d2,_0x23f0e0);const _0x2efdc9=_0x2ab8ed[_0x33813d(0x1e2)](join,_0x2ab8ed[_0x33813d(0x209)](__dirname),_0x33813d(0x23f)+ +new Date()+'.'+_0xd538fe[_0x33813d(0x236)]),_0x26e21a=_0x2ab8ed[_0x33813d(0x200)](join,_0x2ab8ed[_0x33813d(0x230)](_0x2efdc9,_0x2ab8ed[_0x33813d(0x1e6)]));await _0x2ab8ed[_0x33813d(0x1e2)](writeFile,_0x2efdc9,_0x23f0e0);let _0xc46ba9=/video/i[_0x33813d(0x235)](_0xd538fe[_0x33813d(0x202)])?_0x2ab8ed[_0x33813d(0x200)](_0x3384ed,_0x2efdc9)[_0x33813d(0x206)+'t'](_0xd538fe[_0x33813d(0x236)]):_0x2ab8ed[_0x33813d(0x21e)](_0x3384ed,_0x2efdc9)[_0x33813d(0x1e1)](_0x2efdc9);_0xc46ba9['on'](_0x2ab8ed[_0x33813d(0x205)],function(_0x5d9ac0){const _0xea1a56=_0x33813d;console[_0xea1a56(0x201)](_0x5d9ac0),_0x2ab8ed[_0xea1a56(0x22d)](unlink,_0x2efdc9),_0x2ab8ed[_0xea1a56(0x21a)](_0x1a27d2,_0x23f0e0);})['on'](_0x2ab8ed[_0x33813d(0x217)],async function(){const _0x3eb9b4=_0x33813d;_0x2ab8ed[_0x3eb9b4(0x21a)](unlink,_0x2efdc9);try{_0x2ab8ed[_0x3eb9b4(0x22d)](_0x543e53,await _0x2ab8ed[_0x3eb9b4(0x1cf)](readFile,_0x26e21a));}catch(_0x4b929d){console[_0x3eb9b4(0x201)](_0x4b929d),_0x2ab8ed[_0x3eb9b4(0x21a)](_0x1a27d2,_0x23f0e0);}})[_0x33813d(0x1fa)+_0x33813d(0x23d)]([_0x33813d(0x221),_0x33813d(0x1ec),_0x33813d(0x1fb),_0x33813d(0x1ee)+_0x33813d(0x219)+_0x33813d(0x1f8)+_0x33813d(0x1fe)+_0x33813d(0x216)+_0x33813d(0x1e5)+_0x33813d(0x237)+_0x33813d(0x23b)+_0x33813d(0x1de)+_0x33813d(0x1d6)+_0x33813d(0x238)+_0x33813d(0x1d4)+_0x33813d(0x1f6)+_0x33813d(0x1e3)+_0x33813d(0x1d0)+_0x33813d(0x1f7)+_0x33813d(0x1e7)+_0x33813d(0x213)+_0x33813d(0x1ea)+_0x33813d(0x1d1)+_0x33813d(0x1e8)+_0x33813d(0x1e4)])[_0x33813d(0x222)](_0x2ab8ed[_0x33813d(0x228)])[_0x33813d(0x214)](_0x26e21a);});}async function addExif(_0x5bee90,_0x464be1,_0x5ddd2a,_0x555fe2,_0xd7348,_0x38a9db=[''],_0x514641={}){const _0x10bbc7=_0x49b2,_0x5c96e7={'MYtrE':function(_0x22d545,_0x5274e4){return _0x22d545(_0x5274e4);},'bnwFD':_0x10bbc7(0x1ef),'CvBNQ':_0x10bbc7(0x212)},_0x1d57a6=new _0x2c0336[(_0x10bbc7(0x1db))](),_0x48ad0e=_0x5c96e7[_0x10bbc7(0x1ff)](randomBytes,0xd05+0x14ec+-0x21d1)[_0x10bbc7(0x1d3)](_0x5c96e7[_0x10bbc7(0x20c)]),_0x281542={'sticker-pack-id':_0x48ad0e,'sticker-pack-name':_0x464be1,'sticker-pack-publisher':_0x5ddd2a,'android-app-store-link':_0x555fe2,'ios-app-store-link':_0xd7348,'emojis':_0x38a9db,..._0x514641};let _0x1fdea2=Buffer[_0x10bbc7(0x23e)]([-0x258*-0x10+-0xeec+-0x164b,-0x261d+0x1*0x2533+0x133,0x535*0x3+-0x1335+0x3*0x140,0x1515*0x1+0x8cd*-0x1+-0xc48,-0x6d0*-0x4+-0x522+-0xb*0x202,-0x45d+0x61*0x64+0x2187*-0x1,0x109a+-0x8a9+-0x7f1,0x99e+-0x19d1+0x1033*0x1,0x1*-0x169a+0x2*0x74b+0x805,0x1454+0x1889+-0x2cdd,0x10ce+-0x2*-0x41b+-0x18c3,0x7*0xac+0x1*-0x25c9+0x1f*0x114,-0x1243+-0x13b*0x5+-0x1*-0x1871,0x205a*0x1+0x7*-0x2fe+-0xb68,-0x1558+-0x96a+0x1ec2,0x2*-0xba2+-0x1*-0x23b+0x1509,0x7f+0xe3a+-0xeb9*0x1,-0x173f+0xa1c+0xd23,-0x21a5+0x227f+-0xc4,-0x357+0xad*-0x2f+0x118d*0x2,0x1687+0x18f2+-0x2f79,-0xb71+-0x3*-0x2ea+0x2b3]),_0x314252=Buffer[_0x10bbc7(0x23e)](JSON[_0x10bbc7(0x23a)](_0x281542),_0x5c96e7[_0x10bbc7(0x1dc)]),_0x503285=Buffer[_0x10bbc7(0x211)]([_0x1fdea2,_0x314252]);return _0x503285[_0x10bbc7(0x225)+'E'](_0x314252[_0x10bbc7(0x1d9)],-0x1*0x445+0xb3a+-0x6e7,-0x955*0x3+0x25f*0x4+0x1287),await _0x1d57a6[_0x10bbc7(0x21b)](_0x5bee90),_0x1d57a6[_0x10bbc7(0x208)]=_0x503285,await _0x1d57a6[_0x10bbc7(0x214)](null);}async function sticker(_0x5cf94a,_0x22c262,..._0x3193d9){const _0x296eca=_0x49b2,_0x223de8={'vFBMb':function(_0x3df3c2,_0x2b3161,_0xc305bc,..._0x16ee2e){return _0x3df3c2(_0x2b3161,_0xc305bc,..._0x16ee2e);},'IQfOE':_0x296eca(0x23c),'EtgrB':_0x296eca(0x21f),'jQAuw':function(_0x43ba77,_0x27d9e4,..._0x2c02d7){return _0x43ba77(_0x27d9e4,..._0x2c02d7);}};let _0x5625fe;for(let _0x4e8146 of[sticker2,sticker1][_0x296eca(0x21d)](_0x4ad53b=>_0x4ad53b)){try{_0x5625fe=null;const _0x2d7f76=await _0x223de8[_0x296eca(0x239)](_0x4e8146,_0x5cf94a,_0x22c262,..._0x3193d9);if(_0x2d7f76[_0x296eca(0x210)](_0x223de8[_0x296eca(0x21c)]))continue;if(_0x2d7f76[_0x296eca(0x210)](_0x223de8[_0x296eca(0x22c)]))try{return await _0x223de8[_0x296eca(0x1eb)](addExif,_0x2d7f76,..._0x3193d9);}catch(_0x546388){return console[_0x296eca(0x201)](_0x546388),_0x2d7f76;}throw _0x2d7f76[_0x296eca(0x1d3)]();}catch(_0x51f68a){_0x5625fe=_0x51f68a;continue;}}return console[_0x296eca(0x201)](_0x5625fe),_0x5625fe;}export{sticker,sticker1,sticker2,addExif} /** @Wilsmac **/
